<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Aadconnect on Office 365 blog</title>
    <link>http://o365blog.com/tags/aadconnect/</link>
    <description>Recent content in Aadconnect on Office 365 blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-gb</language>
    <lastBuildDate>Thu, 08 Jul 2021 00:00:00 +0000</lastBuildDate>
    
	<atom:link href="http://o365blog.com/tags/aadconnect/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>Spoofing Azure AD sign-ins logs by imitating AD FS Hybrid Health Agent</title>
      <link>http://o365blog.com/post/hybridhealthagent/</link>
      <pubDate>Thu, 08 Jul 2021 00:00:00 +0000</pubDate>
      
      <guid>http://o365blog.com/post/hybridhealthagent/</guid>
      <description>&lt;p&gt;&lt;strong&gt;Azure AD Connect Health&lt;/strong&gt; is a feature that allows viewing the health of on-prem hybrid infrastructure components, including Azure AD Connect and AD FS servers.
Health information is gathered by agents installed on each on-prem hybrid server. Since March 2021, also AD FS sign-in events are gathered and sent to Azure AD.&lt;/p&gt;

&lt;p&gt;In this write-up (based on a Threat Analysis &lt;a href=&#34;https://www.secureworks.com/research/azure-active-directory-sign-ins-log-tampering&#34; target=&#34;_blank&#34;&gt;report&lt;/a&gt; by Secureworks), I&amp;rsquo;ll explain how anyone with a local administrator access to AD FS server (or proxy), can create arbitrary sign-ins events to Azure AD sign-ins log.
Moreover, I&amp;rsquo;ll show how Global Administrators can register fake agents to Azure AD - even for tenants not using AD FS at all.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Decrypting ADSync passwords - my journey into DPAPI</title>
      <link>http://o365blog.com/post/adsync/</link>
      <pubDate>Fri, 08 May 2020 00:00:00 +0000</pubDate>
      
      <guid>http://o365blog.com/post/adsync/</guid>
      <description>&lt;p&gt;Microsoft changed the location of ADSync encryption keys in Azure AD Connect version 1.4.x. These keys are used to encrypt and decrypt the passwords of &amp;ldquo;service accounts&amp;rdquo; used for syncing
data from AD to Azure AD. Earlier versions saved the keys in the registry, but currently, it is using DPAPI. Thus, AADInternals couldn&amp;rsquo;t decrypt the passwords anymore.
Luckily, Dirk-jan Mollema described in his great &lt;a href=&#34;https://dirkjanm.io/updating-adconnectdump-a-journey-into-dpapi/&#34; target=&#34;_blank&#34;&gt;article&lt;/a&gt; how the encryption keys
could be extracted and used to decrypt the passwords. Using Dirk-jan&amp;rsquo;s article as a starting point, I decided to implement this to AADInternals.&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>